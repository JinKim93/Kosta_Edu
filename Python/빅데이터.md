## 빅데이터 파이썬으로 해야하는 이유
![image](https://user-images.githubusercontent.com/82345970/163955502-3e8e214a-880d-4974-9688-d0681d96e98b.png)

## 공공데이터(기상자료)
- https://data.kma.go.kr/cmmn/main.do 접속
- 기상관련 데이터 보기

## 샘플데이터(csv)
- 강의자료에서 다운
- python 폴더에 위치

### 샘플데이터로 실습
- seoul.csv 파일 코랩-> content 디렉토리에 이동
- mount는 따로 하지 않음
- 코랩에서 미작동 -> vscode에서 다시 실습

### 샘플데이터 실습 전 확인사항
 
```py
import csv
f = open('seoul.csv','r',encoding = 'cp949')
data = csv.reader(f, delimiter=',')
print(data)
f.close()
```
### 출력결과
- 객체 주소값 출력
- 객체 주소값이 나왔다는건 제대로 잘 읽어왔다고 판단
  
![image](https://user-images.githubusercontent.com/82345970/163959019-f9f503f5-e4a1-4a29-a6e0-f4e2d0fe9407.png)

### 데이터 추출
```py
import csv
f = open('seoul.csv','r',encoding = 'cp949') #seoul.csv파일 프로젝트경로에 이동시켜놓음
data = csv.reader(f, delimiter=',')

for row in data:
    print(row)
f.close()
```

### 출력결과
![image](https://user-images.githubusercontent.com/82345970/163959535-42e239bd-c9e4-4cd4-bd92-9f856f6b9c65.png)

### csv파일에서 맨위쪽 헤더부분 제외 시킨 후 추출
```py
import csv
f = open('seoul.csv','r',encoding = 'cp949')
data = csv.reader(f, delimiter=',')
header = next(data)  #한줄 건너 띔 ->csv파일 보면 날짜,기온 이런식의 부제목이 나오는대, 데이터가 아니므로, 한 줄 건너띄게 추출

for row in data:
    print(row)
f.close()
```

### 출력결과
- 표시 한 부분 제외 후 데이터 추출
 
![image](https://user-images.githubusercontent.com/82345970/163961744-a533ad16-7ba5-4e44-a4ff-d32ccf0cf3ce.png)

### 기상데이터를 이용해서 온도가 가장 높았던 년도,날짜 데이터 추출 하는 절차
1. 데이터를 읽어온다.
2. 순차적으로 최고 기온을 확인한다.
3. 최고 기온이 가장 높았던 날짜의 데이터를 저장한다.
4. 최종 저장된 데이터를 출력한다.

### 데이터를읽고, 순차적으로 최고 기온 확인 방법
```py
import csv
f = open('seoul.csv','r',encoding = 'cp949')
data = csv.reader(f, delimiter=',')
header = next(data)  

for row in data:
    row[4] = float(row[4])  #최고기온 인덱스 4번째이고, '22.8' 이런식으로 되있는 문자열이라서 타입캐스팅을 해줌 
    print(row)
f.close()
```

### 출력결과
- 동작 하다가 1950년08-31일 이후 부터 오류 생김
 
![image](https://user-images.githubusercontent.com/82345970/163965200-52883b6b-d5c5-4d61-8dab-860134e6ad83.png)

- 추출할려는 csv파일을 보면 비어 있다
- 빈 데이터에 대해서 float로 변환이 안됨 -> 오류발생
- 데이터가 비어있는 경우 문제 해결 해보자
   
![image](https://user-images.githubusercontent.com/82345970/163965868-89a046da-d763-4914-8a8f-11a925ecfeed.png)

### 데이터가 비어있는 경우 해결 후 최고기온 데이터 추출
```py
import csv
f = open('seoul.csv','r',encoding = 'cp949')
data = csv.reader(f, delimiter=',')
header = next(data)  
max_temp = -999 #빈 데이터(최고기온)에 대해서 -999로 채울것이다
max_date = ''  

for row in data:
    if row[4] == '': # 4번째 인덱스 비어있냐
        row[4] = -999 # 비어있으면 -999넣어준다
    row[4] = float(row[4])  #최고기온 인덱스 4번째이고, '22.8' 이런식으로 되있는 문자열이라서 타입캐스팅을 해줌   

    if max_temp < row[4]: # max_temp = 최고기온
        max_temp = row[4] # csv 데이터가 많은경우, 칼럼 뒤(엑셀표에서오른쪽)에서 붙어 읽을수 있다. 뒤에서 읽으면 row[-1]부터시작 하면 된다
        max_date = row[0]

    
f.close()
print(".기상 관측 이래 서울의 최고 기온이 가장 높았던 날은",max_date + ',',max_temp)
```

### 출력결과
![image](https://user-images.githubusercontent.com/82345970/164153573-83ac33cb-e707-4d3b-9563-4ad08a0faf02.png)

### 데이터 시작화 하기
- matplotlib.pyplot 패키지 사용
- pip install matplotlib cmd창에서 설치

### 데이터 시작화 y축세팅
```py
import matplotlib.pyplot as plt
plt.plot([10,20,30,40])
plt.show()
```

### 출력결과
![image](https://user-images.githubusercontent.com/82345970/164154845-130134be-efdf-4f5f-9135-ec9b7c42ab28.png)

### 데이터 시작화 x,y축세팅
```py
import matplotlib.pyplot as plt
plt.plot([1,2,3,4],[12,50,25,15])
plt.show()
```

### 출력결과
![image](https://user-images.githubusercontent.com/82345970/164155194-321e0fcc-7acc-4b25-9950-cd578c983605.png)

### 데이터 시작화 타이틀 작성
```py
import matplotlib.pyplot as plt
plt.title('plotting') # 타이틀 작성
plt.plot([1,2,3,4],[12,50,25,15])
plt.show()
```

### 출력결과
![image](https://user-images.githubusercontent.com/82345970/164155771-4fcd456a-9208-4cc8-929f-d4c4628a952a.png)

### 코로나 계절별 추이(데이터시각화)
- 필자가 임의로 데이터 넣음

```py
import matplotlib.pyplot as plt

season = ['spring', 'summer', 'autumn', 'winter'] # X축으로 넣을거다
corona = [400,300,600,700] # y축으로 넣을거다

plt.title('Corona Status by Season') # 타이틀 작성
plt.plot(season,corona) # X축, Y축
plt.xlabel('season')
plt.ylabel('num of infectee')
plt.show()

```

### 출력결과
![image](https://user-images.githubusercontent.com/82345970/164156461-584ad22c-748d-42cc-94cc-db9e6eead8c4.png)

### 차트 범례 출력하는 예제

```py
import matplotlib.pyplot as plt

plt.title('legend')
plt.plot([10,20,30,40],label = 'asc')
plt.plot([40,30,20,10],label = 'dsc')
plt.legend()
plt.show()
```

### 출력결과
![image](https://user-images.githubusercontent.com/82345970/164156975-eb6c8f82-5861-49b6-8752-fe9e5bd2ff2e.png)

### 차트 색깔 변경
```py
import matplotlib.pyplot as plt

plt.title('legend')
plt.plot([10,20,30,40],color = 'red',label = 'asc') # 그래프 색상 변경
plt.plot([40,30,20,10],color = 'green',label = 'dsc')
plt.legend()
plt.show()
```

### 출력결과
![image](https://user-images.githubusercontent.com/82345970/164157200-36a80c49-ccd1-4c0b-a9f5-23200b8bea67.png)

### 막대그래프 그리기
```py
import matplotlib.pyplot as plt

season = ['spring', 'summer', 'autumn', 'winter'] # X축으로 넣을거다
corona = [400,300,600,700] # y축으로 넣을거다

plt.title('Corona Status by Season') # 타이틀 작성
plt.bar(season,corona) # X축, Y축 / plt.bar로 변경
plt.xlabel('season')
plt.ylabel('num of infectee')
plt.show()
```

### 출력결과
![image](https://user-images.githubusercontent.com/82345970/164157428-a51b833a-e784-4c98-823c-0ad6ffb358b1.png)

### 막대그래프, plot 같이 그리기 
```py
import matplotlib.pyplot as plt

season = ['spring', 'summer', 'autumn', 'winter'] # X축으로 넣을거다
corona = [400,300,600,700] # y축으로 넣을거다

plt.title('Corona Status by Season') # 타이틀 작성
plt.bar(season,corona) # X축, Y축
plt.plot(season,corona) # X축, Y축
plt.xlabel('season')
plt.ylabel('num of infectee')
plt.show()
```

### 출력결과
![image](https://user-images.githubusercontent.com/82345970/164157592-3a7cd0e5-123b-4a78-9f45-eab488741b03.png)

### 막대그래프 색,너비 변경
```py
import matplotlib.pyplot as plt

season = ['spring', 'summer', 'autumn', 'winter'] # X축으로 넣을거다
corona = [400,300,600,700] # y축으로 넣을거다

plt.title('Corona Status by Season') # 타이틀 작성
plt.bar(season,corona, width=0.5, color = "yellow") # X축, Y축
plt.plot(season,corona) # X축, Y축
plt.xlabel('season')
plt.ylabel('num of infectee')
plt.show()
```

### 출력결과
![image](https://user-images.githubusercontent.com/82345970/164157740-c86d1bf3-5b39-4251-9ac1-61388b03a440.png)


